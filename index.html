<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>How Does a CPU Work? ‚Äî 3D Interactive Exhibition</title>
  <link rel="stylesheet" href="css/style.css">
  <!-- Three.js & OrbitControls (local) -->
  <script src="lib/three.min.js"></script>
  <script src="lib/OrbitControls.js"></script>
</head>
<body>

  <!-- ====== HEADER ====== -->
  <header id="site-header">
    <div class="header-inner">
      <div class="logo">‚öô CPU Explorer</div>
      <nav>
        <a href="#cpu-section" class="nav-link active" data-section="cpu-section">CPU Layers</a>
        <a href="#transistor-section" class="nav-link" data-section="transistor-section">Transistors</a>
        <a href="#logic-section" class="nav-link" data-section="logic-section">Logic &amp; Arithmetic</a>
        <a href="#notes-section" class="nav-link" data-section="notes-section">Notes</a>
        <a href="#about-section" class="nav-link" data-section="about-section">About</a>
      </nav>
      <button id="menu-toggle" aria-label="Toggle menu">‚ò∞</button>
    </div>
  </header>

  <!-- ====== HERO ====== -->
  <section id="hero">
    <h1>How Does a CPU Work?</h1>
    <p>Explore the layers of a modern processor ‚Äî from the chip package down to individual transistors</p>
    <a href="#cpu-section" class="btn-primary">Start Exploring ‚Üì</a>
  </section>

  <!-- ====== CPU 3D EXPLORER ====== -->
  <section id="cpu-section" class="content-section">
    <h2>CPU Layer Explorer</h2>
    <p class="section-desc">Zoom in through each layer of the CPU: package ‚Üí die ‚Üí cores ‚Üí transistors. Use scroll or pinch to zoom, drag to rotate.</p>
    <div class="viewer-wrapper">
      <canvas id="cpu-canvas"></canvas>
      <!-- Zoom scale indicator -->
      <div id="zoom-indicator">
        <div class="zoom-label">Zoom Level</div>
        <div class="zoom-bar-track">
          <div class="zoom-bar-fill" id="zoom-bar-fill"></div>
        </div>
        <div class="zoom-value" id="zoom-value">1√ó</div>
        <div class="zoom-level-name" id="zoom-level-name">Chip Package</div>
      </div>
      <!-- Layer legend -->
      <div id="layer-legend">
        <div class="legend-item" data-layer="package"><span class="dot" style="background:#607D8B"></span> Package</div>
        <div class="legend-item" data-layer="die"><span class="dot" style="background:#78909C"></span> Die</div>
        <div class="legend-item" data-layer="cores"><span class="dot" style="background:#0288D1"></span> Cores</div>
        <div class="legend-item" data-layer="transistors"><span class="dot" style="background:#00C853"></span> Transistors</div>
      </div>
    </div>
  </section>

  <!-- ====== TRANSISTOR MODELS ====== -->
  <section id="transistor-section" class="content-section">
    <h2>Transistor Models</h2>
    <p class="section-desc">Explore 3D models of the two dominant transistor architectures in modern CPUs.</p>
    <div class="transistor-grid">
      <div class="transistor-card">
        <h3>MOSFET</h3>
        <p>Metal-Oxide-Semiconductor Field-Effect Transistor ‚Äî the classic planar design used for decades.</p>
        <div class="viewer-wrapper small-viewer">
          <canvas id="mosfet-canvas"></canvas>
        </div>
        <div class="transistor-labels" id="mosfet-labels"></div>
      </div>
      <div class="transistor-card">
        <h3>FinFET</h3>
        <p>Fin Field-Effect Transistor ‚Äî a 3D tri-gate design that reduces leakage and improves performance.</p>
        <div class="viewer-wrapper small-viewer">
          <canvas id="finfet-canvas"></canvas>
        </div>
        <div class="transistor-labels" id="finfet-labels"></div>
      </div>
    </div>
  </section>

  <!-- ====== LOGIC GATE ARITHMETIC ====== -->
  <section id="logic-section" class="content-section">
    <h2>Logic Gates &amp; Arithmetic</h2>
    <p class="section-desc">See how CPUs perform calculations using logic gates. Enter decimal numbers and watch data flow through the circuit.</p>

    <div class="logic-controls">
      <div class="input-group">
        <label for="inputA">Number A</label>
        <input type="number" id="inputA" value="5" min="0" max="255">
      </div>
      <div class="input-group">
        <label for="operation">Operation</label>
        <select id="operation">
          <option value="add">Addition (+)</option>
          <option value="sub">Subtraction (‚àí)</option>
          <option value="and">Bitwise AND (&amp;)</option>
          <option value="or">Bitwise OR (|)</option>
          <option value="xor">Bitwise XOR (^)</option>
        </select>
      </div>
      <div class="input-group">
        <label for="inputB">Number B</label>
        <input type="number" id="inputB" value="3" min="0" max="255">
      </div>
      <button id="calculate-btn" class="btn-primary">Calculate</button>
    </div>

    <div class="speed-control">
      <label for="speed-slider">Animation Speed</label>
      <input type="range" id="speed-slider" min="1" max="10" value="5">
      <span id="speed-label">5</span>
    </div>

    <div class="viewer-wrapper logic-viewer">
      <canvas id="logic-canvas"></canvas>
      <div id="result-display">
        <span id="result-text">Result: ‚Äî</span>
        <div id="binary-display">
          <div class="binary-row"><span class="bin-label">A:</span> <span id="binA">00000000</span></div>
          <div class="binary-row"><span class="bin-label">B:</span> <span id="binB">00000000</span></div>
          <div class="binary-row"><span class="bin-label">Out:</span> <span id="binOut">00000000</span></div>
        </div>
      </div>
    </div>
  </section>

  <!-- ====== EDUCATIONAL NOTES ====== -->
  <section id="notes-section" class="content-section">
    <h2>CPU Architecture ‚Äî Educational Notes</h2>
    <p class="section-desc">Comprehensive reference covering every major component of a modern processor, from chip-level architecture down to individual transistors.</p>

    <div class="notes-grid">

      <div class="note-card">
        <h3>üñ•Ô∏è CPU (Central Processing Unit)</h3>
        <p>The CPU is the "brain" of a computer. It fetches instructions from memory, decodes them, and executes them in sequence. Modern CPUs contain billions of transistors fabricated on a silicon die, packaged inside a chip that connects to the motherboard. The CPU coordinates all operations ‚Äî arithmetic, logic, data movement, and control ‚Äî by cycling through <strong>Fetch ‚Üí Decode ‚Üí Execute ‚Üí Write-back</strong> stages millions (or billions) of times per second.</p>
        <p><strong>Key metrics:</strong> Clock speed (GHz), instruction per cycle (IPC), core count, cache size, process node (e.g. 5 nm).</p>
      </div>

      <div class="note-card">
        <h3>üß© Cores</h3>
        <p>A <strong>core</strong> is an independent processing unit within the CPU. Each core can fetch, decode, and execute its own stream of instructions. Multi-core CPUs (2, 4, 8, 16, or more cores) allow true parallelism ‚Äî running multiple threads simultaneously. Modern designs use <strong>heterogeneous cores</strong>: high-performance cores (P-cores) for heavy workloads and efficiency cores (E-cores) for background tasks, optimising both speed and power consumption.</p>
        <p><strong>Example:</strong> An 8-core CPU can run 8 independent instruction streams in parallel.</p>
      </div>

      <div class="note-card">
        <h3>üéõÔ∏è Control Unit (CU)</h3>
        <p>The <strong>Control Unit</strong> is the "conductor" of the CPU. It reads instructions from memory, decodes the opcode to determine what operation to perform, and generates control signals that orchestrate the ALU, registers, and data buses. It manages the <strong>instruction pipeline</strong>, handles branch prediction, and coordinates with the clock to ensure every component acts at the right time. Without the CU, the CPU would not know which operation to perform next.</p>
      </div>

      <div class="note-card">
        <h3>‚ûï ALU (Arithmetic Logic Unit)</h3>
        <p>The <strong>ALU</strong> performs all mathematical and logical operations: addition, subtraction, multiplication, division, bitwise AND, OR, XOR, NOT, and comparison. It takes two input operands and produces a result plus status flags (zero, carry, overflow, sign). The ALU is built from combinational logic gates ‚Äî a full adder chain for arithmetic, and dedicated gates for each logical operation. Modern CPUs have multiple ALUs per core for superscalar execution.</p>
      </div>

      <div class="note-card">
        <h3>üìã Registers</h3>
        <p><strong>Registers</strong> are the fastest storage in the CPU ‚Äî tiny memory cells built directly into the core. They hold the data the ALU is currently working on, instruction pointers, stack pointers, and status flags. Types include: <strong>General-purpose registers</strong> (e.g. RAX, RBX on x86), <strong>Program Counter (PC)</strong> ‚Äî address of next instruction, <strong>Stack Pointer (SP)</strong>, <strong>Flags/Status register</strong>, and <strong>Floating-Point registers</strong> (for decimal math). Register access takes just 1 clock cycle ‚Äî far faster than cache or RAM.</p>
      </div>

      <div class="note-card">
        <h3>üíæ Cache</h3>
        <p><strong>Cache</strong> is high-speed SRAM memory sitting between registers and main RAM, designed to reduce the latency of memory access. It operates in a hierarchy:</p>
        <ul>
          <li><strong>L1 Cache</strong> ‚Äî Smallest (32‚Äì128 KB per core), fastest (~1 ns). Split into instruction cache (L1i) and data cache (L1d).</li>
          <li><strong>L2 Cache</strong> ‚Äî Medium (256 KB ‚Äì 1 MB per core), slightly slower (~3‚Äì5 ns).</li>
          <li><strong>L3 Cache</strong> ‚Äî Largest (8‚Äì64 MB shared), slowest cache level (~10‚Äì20 ns). Shared among all cores.</li>
        </ul>
        <p>Cache uses spatial and temporal locality to predict which data will be needed next.</p>
      </div>

      <div class="note-card">
        <h3>üöå Buses</h3>
        <p><strong>Buses</strong> are the communication highways inside the CPU and between the CPU and other components. Three main types:</p>
        <ul>
          <li><strong>Data Bus</strong> ‚Äî Carries actual data between CPU, memory, and I/O (width = 64 bits on modern CPUs).</li>
          <li><strong>Address Bus</strong> ‚Äî Carries memory addresses, determining where data is read from or written to.</li>
          <li><strong>Control Bus</strong> ‚Äî Carries control signals (read/write, interrupt, clock) to coordinate operations.</li>
        </ul>
        <p>Inside the chip, a <strong>ring bus</strong> or <strong>mesh interconnect</strong> connects cores to L3 cache and memory controllers at very high bandwidth.</p>
      </div>

      <div class="note-card">
        <h3>‚è±Ô∏è Clock</h3>
        <p>The <strong>clock</strong> generates a periodic square-wave signal that synchronises every operation inside the CPU. Each "tick" (rising edge) triggers the next step in the pipeline. Clock speed is measured in <strong>GHz</strong> (billions of cycles per second). A 5 GHz clock means 5 billion ticks per second, with each cycle lasting just 0.2 nanoseconds. <strong>Turbo boost</strong> dynamically increases clock speed for short bursts; <strong>clock gating</strong> disables the clock to idle circuits, saving power.</p>
      </div>

      <div class="note-card note-card-wide">
        <h3>üî¨ MOSFET (Metal-Oxide-Semiconductor Field-Effect Transistor)</h3>
        <p>The <strong>MOSFET</strong> is the fundamental building block of all modern digital circuits. It acts as a voltage-controlled switch: applying a voltage to the <strong>gate</strong> creates an electric field across the <strong>oxide</strong> insulator, which attracts charge carriers to form a conductive <strong>channel</strong> between the <strong>source</strong> and <strong>drain</strong>.</p>
        <h4>Types of MOSFETs</h4>
        <ul>
          <li><strong>NMOS (n-channel)</strong> ‚Äî Channel formed by electrons. Turns ON when gate voltage is HIGH. Faster switching, used for pull-down networks.</li>
          <li><strong>PMOS (p-channel)</strong> ‚Äî Channel formed by holes. Turns ON when gate voltage is LOW. Used for pull-up networks.</li>
          <li><strong>CMOS (Complementary MOS)</strong> ‚Äî Pairs of NMOS + PMOS transistors working together. Nearly zero static power consumption. This is the technology used in virtually all modern CPUs.</li>
        </ul>
        <p><strong>Key parameters:</strong> Threshold voltage (Vt), gate length (determines process node), on/off current ratio, gate capacitance.</p>
      </div>

      <div class="note-card note-card-wide">
        <h3>üèóÔ∏è FinFET (Fin Field-Effect Transistor)</h3>
        <p>As transistors shrank below ~22 nm, traditional planar MOSFETs suffered from severe <strong>short-channel effects</strong> ‚Äî the gate could no longer control the channel, causing leakage current. The <strong>FinFET</strong> solves this by raising the channel vertically as a thin "fin" of silicon, and wrapping the gate around it on three sides (tri-gate). This dramatically improves electrostatic control.</p>
        <h4>Types & Variants</h4>
        <ul>
          <li><strong>Bulk FinFET</strong> ‚Äî Fins are etched from the bulk silicon substrate. Used by Intel (from 22 nm) and TSMC/Samsung (from 16/14 nm).</li>
          <li><strong>SOI FinFET</strong> ‚Äî Fins built on a Silicon-on-Insulator wafer, reducing parasitic capacitance and leakage further.</li>
          <li><strong>GAA FET (Gate-All-Around)</strong> ‚Äî The next evolution: the channel is a horizontal nanosheet or nanowire fully surrounded by the gate on all four sides. Used at 3 nm and below (Samsung, TSMC).</li>
        </ul>
        <p><strong>Advantages over planar MOSFET:</strong> Better leakage control, higher drive current, lower operating voltage, improved performance-per-watt. FinFETs enabled the continuation of Moore's Law below 22 nm.</p>
      </div>

    </div>
  </section>

  <!-- ====== ABOUT ====== -->
  <section id="about-section" class="content-section">
    <h2>About This Exhibition</h2>
    <div class="about-content">
      <div class="about-card">
        <h3>üî¨ What You'll Learn</h3>
        <p>This interactive exhibition takes you on a journey from the visible chip package all the way down to the nanoscale transistors that make computation possible. You'll see how logic gates combine to perform arithmetic and how data flows through a CPU.</p>
      </div>
      <div class="about-card">
        <h3>üéÆ How to Interact</h3>
        <ul>
          <li><strong>Rotate:</strong> Click &amp; drag (or touch &amp; drag)</li>
          <li><strong>Zoom:</strong> Scroll wheel (or pinch)</li>
          <li><strong>Pan:</strong> Right-click &amp; drag (or two-finger drag)</li>
        </ul>
      </div>
      <div class="about-card">
        <h3>üìê Technology</h3>
        <p>Built with Three.js for 3D rendering, vanilla JavaScript for logic simulation, and CSS for the white-themed exhibition aesthetic.</p>
      </div>
    </div>
  </section>

  <!-- ====== FOOTER ====== -->
  <footer id="site-footer">
    <div class="footer-inner">
      <div class="footer-col">
        <h4>CPU Explorer</h4>
        <p>An interactive 3D exhibition explaining how modern processors work ‚Äî from chip to transistor.</p>
      </div>
      <div class="footer-col">
        <h4>Sections</h4>
        <ul>
          <li><a href="#cpu-section">CPU Layers</a></li>
          <li><a href="#transistor-section">Transistors</a></li>
          <li><a href="#logic-section">Logic &amp; Arithmetic</a></li>
          <li><a href="#notes-section">Notes</a></li>
          <li><a href="#about-section">About</a></li>
        </ul>
      </div>
      <div class="footer-col">
        <h4>Resources</h4>
        <ul>
          <li><a href="https://en.wikipedia.org/wiki/Central_processing_unit" target="_blank" rel="noopener noreferrer">CPU ‚Äî Wikipedia</a></li>
          <li><a href="https://en.wikipedia.org/wiki/MOSFET" target="_blank" rel="noopener noreferrer">MOSFET ‚Äî Wikipedia</a></li>
          <li><a href="https://en.wikipedia.org/wiki/FinFET" target="_blank" rel="noopener noreferrer">FinFET ‚Äî Wikipedia</a></li>
        </ul>
      </div>
    </div>
    <div class="footer-bottom">
      <p>&copy; 2026 CPU Explorer Exhibition. Educational purposes only.</p>
    </div>
  </footer>

  <!-- Scripts -->
  <script src="js/cpu-explorer.js"></script>
  <script src="js/transistor-viewer.js"></script>
  <script src="js/logic-simulator.js"></script>
  <script src="js/app.js"></script>
</body>
</html>
